name: 'Anaconda Github Action'

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: checkout repo content
      uses: actions/checkout@v2

    - name: Anaconda-Action
      id: step1
      uses: fdiblen/anaconda-action@0.1.7
      with:
        env-file-name: 'environment.yml'
        
    - name: build
      shell: bash -l {0}
      run: |
        pip install -e .
          
    - name: run unit tests
      shell: bash -l {0}
      run: pytest
      
      
